(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c7cab88"],{"0639":function(t,e,a){},"62d5":function(t,e,a){"use strict";var n=a("0639"),s=a.n(n);s.a},"6baa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-bg"},[a("div",{staticClass:"bg-decor"}),a("TemplatePaymentGateway",{attrs:{bookingDetails:t.bookingDetails,paymentMode:t.paymentMode,status:t.status}})],1)},s=[],o=(a("99af"),a("d3b7"),a("5530")),r=(a("96cf"),a("1da1")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BodyWrapper",[this.status?t._e():a("MoleculePaymentCard",{attrs:{bookingDetails:t.bookingDetails,paymentMode:t.paymentMode}})],1)},u=[],c=a("8b09"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment-card"},[a("div",{staticClass:"mb-6"},[a("div",{staticClass:"mb-4"},[a("AtomParagraph",[a("span",{staticClass:"card-grp"},[a("span",[a("strong",[t._v(" Name: ")])]),a("span",[a("strong",[t._v(t._s(t.bookingDetails.name))])])])]),a("AtomParagraph",[a("span",{staticClass:"card-grp"},[a("span",[a("strong",[t._v(" Due Date: ")])]),a("span",[a("strong",[t._v(t._s(t.bookingDetails.dueDate))])])])]),a("AtomParagraph",[a("span",{staticClass:"card-grp"},[a("span",[a("strong",[t._v(" Amount: ")])]),a("span",[a("strong",{staticClass:"card-amt"},[t._v(" "+t._s(t.bookingDetails.amount)+"/- ")])])])])],1),a("div",{staticClass:"card-btn"},[a("a",{attrs:{href:t.paymentMode.PaymentLink}},[a("AtomButton",[t._v(" Pay Now ")])],1)])]),a("AtomParagraph",{attrs:{variation:"small"}},[a("strong",[t._v("Note:")]),t._v(" Bill description: Rent : "+t._s(t.bookingDetails.baseAmount)+" , Discount : "+t._s(t.bookingDetails.discount)+", Convenience Fee : "+t._s(t.bookingDetails.convenienceFee)+" ")])],1)},m=[],l=a("8d8b"),d=a("02cf"),h={name:"MoleculePaymentCard",components:{AtomParagraph:l["a"],AtomButton:d["a"]},props:{bookingDetails:{type:Object},paymentMode:{type:Object}}},g=h,y=(a("62d5"),a("2877")),b=Object(y["a"])(g,p,m,!1,null,"1d97b955",null),v=b.exports,f={name:"TemplatePaymentGateway",components:{BodyWrapper:c["a"],MoleculePaymentCard:v},props:{bookingDetails:{type:Object},paymentMode:{type:Object},status:Boolean}},k=f,D=Object(y["a"])(k,i,u,!1,null,null,null),_=D.exports,P={name:"PagePaymentGateway",components:{TemplatePaymentGateway:_},data:function(){return{bookingDetails:{},paymentMode:{},status:!1}},mounted:function(){var t=/status|order_id/,e=/payment|validate|p|h/;t.test(this.$route.params.pathMatch)?(this.status=!this.status,this.getStatus()):e.test(this.$route.params.pathMatch)&&this.getBookingDetails()},methods:{getBookingDetails:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.query.p,n=t.$route.query.h,e.prev=2,e.next=5,fetch("https://maya.parkspot.in/payment/validate?p=".concat(a,"&h=").concat(n),{headers:{"Content-Type":"application/json",flavour:"this.flavour"}});case 5:if(s=e.sent,s.ok){e.next=10;break}throw new Error(s);case 10:return e.next=12,s.json();case 12:r=e.sent,Object.prototype.hasOwnProperty.call(r,"ErrorCode")?(t.status=!t.status,5===r.ErrorCode?t.$router.push({name:"thankYou",params:{msg:r.DisplayMsg}}):t.$router.push({name:"error"})):(t.bookingDetails={name:r.BookingInfo.Name,dueDate:r.DueDate,amount:r.PaymentInfo.Amount,discount:r.PaymentInfo.Discount,convenienceFee:r.PaymentInfo.ConvenienceFee,baseAmount:r.PaymentInfo.BaseAmount},t.paymentMode=Object(o["a"])({},r.Payment));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](2),t.status=!t.status,t.getStatus();case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))()},getStatus:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.query.order_id,e.next=3,fetch("https://maya.parkspot.in/payment/status?order_id=".concat(a),{headers:{"Content-Type":"application/json",flavour:"this.flavour"}});case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,"PAID"===s?t.$router.push({name:"thankYou",params:{msg:"You have paid the amount."}}):"ACTIVE"===s?t.$router.push({name:"error",params:{msg:"Your order is still pending!"}}):t.$router.push({name:"error"});case 8:case"end":return e.stop()}}),e)})))()}}},w=P,C=Object(y["a"])(w,n,s,!1,null,"48c85138",null);e["default"]=C.exports}}]);